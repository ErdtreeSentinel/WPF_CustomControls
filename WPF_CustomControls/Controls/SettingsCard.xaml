<UserControl
    x:Class="WPF_CustomControls.Controls.SettingsCard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    x:Name="root">
    <UserControl.Resources>
        <!--  DataTemplate для Header, если значение – строка  -->
        <DataTemplate x:Key="HeaderTemplate" DataType="{x:Type sys:String}">
            <TextBlock FontSize="14" Text="{Binding}" />
        </DataTemplate>
        <!--  DataTemplate для Description, если значение – строка  -->
        <DataTemplate x:Key="DescriptionTemplate" DataType="{x:Type sys:String}">
            <TextBlock
                FontSize="12"
                Opacity="0.7"
                Style="{StaticResource CaptionTextBlockStyle}"
                Text="{Binding}" />
        </DataTemplate>

        <Style x:Key="SelectionTextBox" TargetType="TextBox">
            <Setter Property="Foreground" Value="{DynamicResource TextControlForeground}" />
            <Setter Property="FontSize" Value="{DynamicResource ControlContentThemeFontSize}" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="IsReadOnly" Value="True" />
            <Setter Property="TextWrapping" Value="Wrap" />
        </Style>
        <Style x:Key="LinkTextBlockStyle" TargetType="TextBlock">
            <Setter Property="Margin" Value="0,4,0,4" />
        </Style>
        <Style x:Key="DefaultHyperlinkStyle" TargetType="Hyperlink">
            <Setter Property="TextDecorations" Value="None" />
            <Setter Property="Foreground" Value="{DynamicResource AccentTextFillColorPrimaryBrush}" />
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Foreground" Value="{DynamicResource AccentTextFillColorSecondaryBrush}" />
                    <Setter Property="TextDecorations" Value="Underline" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="SettingsCardStyle" TargetType="Border">
            <Setter Property="Padding" Value="0,16,0,16" />
            <Setter Property="BorderThickness" Value="0,0,0,1" />
            <Setter Property="BorderBrush" Value="{DynamicResource ExpanderHeaderBorderBrush}" />
        </Style>

        <Style x:Key="BottomSettingsCardStyle" TargetType="Border">
            <Setter Property="Padding" Value="0,16,0,16" />
        </Style>
    </UserControl.Resources>
    <Grid Margin="0,0,0,0" Background="Transparent">
        <Border
            Padding="{StaticResource ExpanderPadding}"
            Background="{DynamicResource ExpanderHeaderBackground}"
            BorderBrush="{DynamicResource ExpanderHeaderBorderBrush}"
            BorderThickness="{StaticResource ExpanderBorderThemeThickness}"
            CornerRadius="{DynamicResource ControlCornerRadius}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <!--  Иконка  -->
                <TextBlock
                    Grid.Column="0"
                    Width="20"
                    Height="20"
                    Margin="10,5,10,5"
                    VerticalAlignment="Center"
                    FontFamily="{StaticResource SymbolThemeFontFamily}"
                    FontSize="20"
                    Text="{Binding Icon, ElementName=root}"
                    Visibility="{Binding ShowIcon, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource BooleanToVisibilityConverter}}" />

                <StackPanel
                    Grid.Column="1"
                    Margin="12"
                    VerticalAlignment="Center"
                    Orientation="Vertical">
                    <ContentPresenter Content="{Binding Header, ElementName=root}" />
                    <ContentPresenter Content="{Binding Description, ElementName=root}" />
                </StackPanel>

                <!--  Правый контент  -->
                <ContentPresenter
                    Grid.Column="2"
                    Margin="10"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Content="{Binding Content, ElementName=root}" />
            </Grid>
        </Border>
    </Grid>
</UserControl>
